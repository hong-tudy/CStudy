[참고용 노션 링크](https://striped-beechnut-dfe.notion.site/CPU-7201c3bf9f684e08aa37790bf2b1de13?pvs=4)
# 1. CPU 스케줄링 개요

## 프로세스 우선순위

### 우선순위가 높을수록?

우선순위가 높은 프로세스일수록, 더 빨리 더 자주 실행한다. PCB에 프로세스의 우선순위를 명시한다.

### 우선순위가 높은 프로세스

: 입출력 집중 프로세스, 실시간 프로세스, 일부 백그라운드 프로세스

### 입출력 집중 프로세스보다 CPU 집중 프로세스보다 우선순위가 높다.

입출력 집중 프로세스를 먼저 실행시켜 입출력 장치를 끊임없이 돌아가도록 하는 것이 더 효율적이다.

- 버스트 (burst) : 어떤 현상이 짧은 시간 안에 집중적으로 일어나는 일.
    - CPU 버스트 : 프로세스가 CPU가 한번에 연속적으로 실행되는 시간 (CPU를 이용하는 작업)
        - CPU 집중 프로세스 : CPU 버스트가 많은 프로세스
    - IO 버스트 : 프로세스가 IO작업을 요청하고 기다리는 시간 (입출력을 기다리는 작업)
        - IO 집중 프로세스 : IO 버스트가 많은 프로세스

## 스케줄링 큐

자원을 이용할 프로세스는 두 가지 요소을 바탕으로 자원이 할당된다.

- 스케줄링 큐 : 큐에 들어온 순서대로 자원 할당. ready 큐, waiting 큐 등 여러가지가 있다.
- 우선순위 : 순서대로 자원이 할당되지만 우선순위가 높은 것부터 할당된다.

## 선점형 스케줄링 & 비선점형 스케줄링

(1) 선점형 스케줄링 (Preemptive Scheduling)

운영체제가 프로세스로부터 자원을 빼앗아 다른 프로세스에 할당할 수 있는 스케줄링 방식

- 장점 : 독점 방지 가능
- 단점 : 오버헤드 발생 가능

(2) 비선점형 스케줄링(Non-Preemptive Scheduling)

운영체제가 프로세스로부터 자원을 빼앗아 다른 프로세스에 할당할 수 없는 스케줄링 방식

- 장점 : 오버헤드 발생 가능성 감소
- 단점 : 프로세스에서 독점이 발생할 수 있다.

# 2. CPU 스케줄링 알고리즘

## 요약

비선점형 스케줄링 : 선입 선처리 스케줄링, 최단작업 우선 스케줄링

선점형 스케줄링 : 라운드 로빈 스케줄링, 최소잔여시간 우선 스케줄링, 다단계 피드백 큐 스케줄링

## 스케줄링 알고리즘의 종류

**(1) 선입 선처리 스케줄링 (FCFS, First Come First Served)**

먼저 요청한 프로세스부터 CPU를 할당한다.

- 특징
    - 비선점형 방식
    - 호위효과(Convoy Effect) 발생
        - CPU를 많이 필요로 하지 않는 프로세스들이, CPU를 오랫동안 사용하는 프로세스가 끝나기를 기다리는 현상

**(2) 최단작업 스케줄링 ( SJF, Shortest Job First)**

CPU 이용시간의 길이가 가장 짧은 프로세스부터 실행한다.

- 특징
    - 일반적으로 비선점형 방식 (선점형 → (4) 최소 잔여 시간 우선 스케줄링)
    - 우선순위 스케줄링의 일종

**(3) 라운드 로빈 스케줄링 (RR, Round Robin)**

정해진 타임슬라이스만큼의 시간동안 돌아가면서 CPU를 사용

- 특징
    - 선점형 방식
    - 타임슬라이스의 길이가 중요하다.
        - 타임슬라이스 길이가 너무 짧다면 ? 문맥교환시 발생하는 오버헤드 ⬆️
        - 타임슬라이스 길이가 너무 길다면 ? 호위효과

**(4) 최소 잔여 시간 우선 스케줄링**

정해진 타임슬라이스만큼 CPU를 사용하되 CPU를 사용할 다음 프로세스는 남은 작업 시간이 가장 작은 프로세스를 선택 ( SJF + RR )

**(5) 우선순위 스케줄링**

가장 우선순위가 높은 프로세스부터 실행한다.

- 특징
    - SJF도 여기에 속한다.
    - 기아(Starvation) 현상 발생
        - 특정 프로세스의 우선 순위가 낮아서 원하는 자원을 계속 할당받지 못하는 현상
        - 해결책 : 에이징
            - 오랫동안 대기한 프로세스의 우선순위를 높인다.

**(6) 다단계 큐 스케줄링**

우선순위 별로 준비큐를 여러개 사용한다.

- 특징
    - 프로세스 유형별로 우선순위를 구분해서 실행할 수 있다.
    - 큐 별로 타임슬라이스의 길이, 스케줄링 알고리즘을 다르게 설정할 수 있다.
    - 프로세스가 큐간 이동을 할 수는 없다. → 기아 현상 발생

**(7) 다단계 피드백 큐 스케줄링**

프로세스들이 큐 간 이동이 가능한 스케줄링 (다단계 큐 스케줄링을 보완)

- 특징
    - 새롭게 준비 상태가 된 프로세스 → 우선수위가 가장 높은 큐에 삽입 → 타임슬라이스 내에 끝나지 않았다면 다음 우선순위 큐에 삽입
        - CPU 집중 프로세스의 우선순위는 점차 내려가고, 입출력 집중 프로세스는 우선순위가 높은 큐에서 실행이 끝난다.
    - 기아 현상 x : 에이징 기법 o. 너무 오래 기다리는 프로세스는 우선순위가 높은 큐로 이동한다.
    - 구현이 복잡
    - 가장 일반적인 CPU 스케줄링 알고리즘.
