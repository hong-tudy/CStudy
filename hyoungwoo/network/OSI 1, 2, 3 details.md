### 물리 계층 - 1계층

- OSI 7계층 모델 상의 최하위 계층
    - 단말 기기와 전송 매체 사이의 인터페이스를 정의하고, 데이터링크 계층 엔티티 간의 비트 전송을 위한 물리적인 (기계적, 전기적, 기능적, 절차적인 ) 수단을 제공하는 계층
    - 비트 단위로 데이터를 송수신하며, 실제 전송 매체와의 물리적 연결을 담당
- 물리 계층과 데이터링크 계층 간의 비교
    - 물리 계층은 신호의 전송과 수신을 처리하며, 잡음, 간섭, 왜곡, 지연 등 물리적 요소의 영향을 받음
    - 데이터링크 계층은 물리 계층에서 발생할 수 있는 에러를 감지하고 수정하여 안정적인 데이터 전송을 보장
- 주요 기능
    - 전기적 신호 규격 정의
        - 전송 속도, 신호의 레벨 및 인코딩/디코딩 규격을 정의
            - 이더넷의 경우, 신호를 전송하기 위한 전압 수준과 신호의 변화 패턴을 규정
        - 비트 동기
            - 비트 전송의 동기화와 관련된 기능을 처리
                - 프리엠블을 사용하여 수신 장치가 송신 신호의 시작을 인식할 수 있도록 함
        - 전송매체 규격
            - 전송 매체의 종류, 케이블링, 커넥터의 규격 등을 정의
                - UTP 케이블, 광섬유, 무선 주파수 등의 규격을 포함
            - 토폴로지 규격도 포함 가능
        - 물리적 회선 관리
            - DTE(Data Terminal Equipment)와 DCE(Data Circuit-terminating Equipment) 간의 물리적 연결을 관리
                - 회선의 작동, 유지보수, 종료 등의 규정을 설정
    - **비트 스트리밍**
        - 물리 계층은 비트 스트리밍을 관리하여 연속적인 비트 전송이 이루어질 수 있도록 함
    - **물리적 신호의 형상**
        - 물리 계층은 신호의 형상(파형, 주파수 등)을 정의하여 물리적 매체를 통해 신호가 안정적으로 전송되도록 함
- www.naver.com을 입력했을 때의 물리 계층 역할
    - 데이터 전송 준비
        - IP 패킷을 비트 단위로 변환하여 실제 물리적 신호로 전송
    - 신호 전송
        - 변환된 비트 신호는 네트워크 매체를 통해 Naver의 서버로 전송
            - 이 신호는 유선 Ethernet 케이블이나 무선 Wi-Fi를 통해 이동
    - 신호 수신
        - Naver 서버는 수신된 신호를 물리 계층에서 디코딩하여 다시 데이터로 변환
    - 응답 데이터 전송
        - 응답 데이터도 마찬가지로 물리 계층을 통해 비트 신호로 변환되어 전송
    - 오류 감지 및 수정
        - 데이터 전송 중 발생할 수 있는 신호의 왜곡이나 손실을 최소화

### 데이터링크 계층 - 2계층

- OSI 계층 모델 상에서 2계층
- 잡음이 있는 인접 노드 간의 물리적인 회선을 상위 망계층(L3)이 신뢰적으로 사용할 수 있도록 전송 에러가 없는 통신 채널로 변환시키는 계층
- 2계층 관련 구현이 매우 다양함
    - HDLC, PPP, FDDI, PDH/SDH, ATM, Frame Relay, 이더넷, 무선LAN, 이동 통신 등
- 주요 기능
    - 물리 계층 비트 열을 전송/운반/전달하는 역할
        - 데이터링크화 시켜서 정확하고, 안정적으로, 신뢰성있게 전송시킴
    - 프레이밍
        - 데이터를 프레임으로 그룹화
            - 물리 계층에서 수신된 비트 스트림을 프레임이라는 구조로 포장
                - 프레임은 헤더와 데이터, 트레일러를 포함하여 데이터의 시작과 끝을 식별하고, 전송 중의 오류를 검출할 수 있게 함
    - 흐름제어
        - 보내는 측과 받는 측간의 속도 차를 보상
            - 슬라이딩 윈도우 프로토콜은 데이터의 흐름을 조절하여 수신 장치가 처리할 수 있는 만큼의 데이터를 송신
    - 에러제어
        - 에러 보정을 위한 에러제어 등의 기능들을 제공
            - 데이터 전송 중 발생할 수 있는 오류를 검출하고, 필요에 따라 수정
            - 일반적으로 에러 검출은 CRC(Cyclic Redundancy Check)와 같은 기법을 사용하여 프레임의 무결성을 검사
        - 정확하게 수신되지 않은 패킷들을 재전송
            - 송신측에서 타이머와 ACK 신호에 의해 전송 에러를 알 수 있음
                - ARQ는 패킷 손실 시 재전송을 요청하여 신뢰성을 높임
    - 순서화
        - 데이터링크 계층은 순서 제어를 통해 패킷이 정확한 순서로 도착하도록 보장
        - 패킷이나 ACK 신호를 잘못 혼동하는 것을 피하기 위해 패킷과 ACK 신호에는 Sequence number(일련번호)가 부여되어야 함
    - 데이터링크 연결 관리
        - 두 노드 간의 데이터 링크의 설정, 유지, 해제 등을 관리
            - 연결 설정, 데이터 전송, 연결 해제 등이 포함
    - 매체 접근 제어
        - 다양한 매체 및 회선 형태의 수용 및 다중 사용자 접근 조절
            - . 매체 접근 제어는 충돌 방지 및 자원 공유를 조절하여 네트워크 성능을 최적화
    - 데이터링크 내 노드 간 식별성 제공
        - 물리적 주소(MAC 주소)를 사용하여 네트워크 상의 장치들을 식별하고, 데이터가 올바른 장치로 전달되도록 함
            - Ethernet 프레임의 헤더에는 송신 장치와 수신 장치의 MAC 주소가 포함
- www.naver.com을 입력했을 때 데이터링크 계층에서 하는 역할
    - 프레임화
        - 웹 브라우저가 전송한 IP 패킷을 Ethernet 프레임으로 포장
            - 프레임에는 송신자의 MAC 주소와 수신자의 MAC 주소가 포함하며  데이터의 시작과 끝을 정의
    - 주소 지정
        - Ethernet 프레임의 헤더에 목적지 MAC 주소를 추가하여 데이터를 Naver 서버로 정확히 전달
    - 에러 검출 및 수정
        - 프레임의 에러 검출 정보를 확인하여 데이터 전송 중 발생한 오류를 감지하고, 필요에 따라 재전송 요청을 할 수 있음
            - CRC를 사용하여 프레임의 오류를 검출하고, ARQ를 통해 재전송을 관리
    - 흐름 제어
        - 데이터 전송 속도를 조절하여 네트워크의 혼잡을 방지하고, 데이터가 안정적으로 전송될 수 있도록 함
    - 프레임 순서 관리
        - 수신 측에서 프레임의 순서를 확인하고, 올바른 순서로 데이터를 재조합
    - 정상 종료 및 재전송
        - 수신 측에서 데이터 수신 확인 응답을 보내거나, 오류 발생 시 재전송 요청을 처리

### 네트워크 계층 - 3계층

- OSI 7계층 모델에서 3계층에 해당되는 기능을 하는 계층
- 주로, 인터넷에서 서브 네트워크 간을 연결(패킷 전달)하는 역할을 담당하는 계층
    - 인터넷
        - 라우터들에 의해 분할 연결된 서브 네트워크들의 모음
    - 대표적인 프로토콜로는 IP, X.25
- 주요 기능
    - 경로 제어
        - 경로 선택
            - 출발지에서 목적지까지의 최적 경로를 선택
        - 라우터 역할
            - 인터넷의 라우터들은 IP 패킷을 수신하고, 각 패킷의 목적지 주소를 확인하여 최적의 경로를 통해 다음 네트워크로 전달
    - 논리적 주소 체계 부여
        - IP 주소 지정
            - 네트워크 계층은 각 장치에 논리적 주소(IP 주소)를 부여하여, 네트워크 상에서의 위치를 식별
                - IP 주소는 패킷이 목적지에 도달할 수 있도록 하는 데 필수적
            - 주소 변환
                - 패킷이 네트워크를 통과하면서 IP 주소를 기반으로 적절한 경로로 전달
    - 연결 지향성 및 비연결성 서비스 제공
        - 비연결성 서비스
            - 주로 비연결성 서비스를 제공
                - 각 패킷이 독립적으로 전달되고, 전송 도중 경로 변경이 가능하다는 의미
                - IP는 비연결성 프로토콜
        - 연결 지향 서비스
            - 일부 프로토콜은 연결 지향 서비스를 지원할 수 있지만, 주로 IP는 비연결성 서비스를 제공
    - **패킷의 크기 제한**: 네트워크 계층은 패킷의 크기에 제한이 있을 수 있으며, 이를 초과하는 데이터는 조각화(fragmentation)될 수 있음
    - **QoS (Quality of Service)**: 일부 네트워크 계층 프로토콜은 서비스 품질(QoS)을 지원하여 네트워크의 성능을 보장
- www.naver.com을 입력했을 때, 네트워크 계층에서 하는 역할
    - 패킷 분할 및 라우팅
        - 패킷 포맷
            - 웹 브라우저에서 요청한 데이터는 IP 패킷으로 포맷
            - 이 패킷은 출발지 IP 주소와 목적지 IP 주소를 포함
        - 경로 선택
            - IP 패킷은 네트워크 계층에서 라우터를 통해 전달
            - 각 라우터는 패킷의 목적지 주소를 바탕으로 최적의 경로를 선택하고, 다음 라우터로 패킷을 전달
    - 주소 지정
        - IP 주소 지정
            - 웹 브라우저에서 입력된 도메인 이름 DNS를 통해 IP 주소로 변환
            - 네트워크 계층은 이 IP 주소를 사용하여 패킷을 정확한 서버로 전달
        - 주소 매핑
            - 패킷이 네트워크를 통해 이동할 때, 각 네트워크 장치는 패킷의 IP 주소를 사용하여 패킷을 다음 장치로 전달
    - 패킷 재조립 및 전달
        - 패킷 전송
            - 네트워크 계층은 패킷을 전송 중에 필요한 경우 분할하고, 전송이 완료되면 재조립하여 상위 계층에 전달
        - 응답 처리
            - Naver 서버는 웹 브라우저의 요청을 처리하고, 응답 패킷을 네트워크 계층을 통해 웹 브라우저로 다시 전송
    - 투명성 유지
        - 서브 네트워크 연결
            - 네트워크 계층은 여러 서브 네트워크 간의 투명한 데이터 전달을 지원하여, 서로 다른 네트워크 환경에서도 데이터가 문제 없이 전달되도록 함